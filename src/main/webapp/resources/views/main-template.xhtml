<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:sec="http://www.springframework.org/security/tags">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>#{empty pageTitle ? '{#pageTitle}' : pageTitle}</title>
	<link rel="icon" href="#{resource['img:favicon.ico']}" type="image/ico" />
	<link rel="stylesheet" href="#{resource['bootstrap:css/bootstrap.css']}" type="text/css" />
	<link rel="stylesheet" href="#{resource['css:main.css']}" type="text/css" />
	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	      		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	      		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	    	<![endif]-->
</h:head>
<h:body>
	<h:form>
		<div class="container">
			<nav role="navigation" class="navbar navbar-default">
				<p:menubar>
					<p:menuitem value="#{msg['list-of-customers']}" action="pretty:list" icon="ui-icon-close" />

					<f:facet name="options">
						<p:outputLabel value="#{loginBean.user.username}" rendered="#{not empty loginBean.user}"/>

						<p:selectOneMenu value="#{languageBean.localeCode}"  valueChangeListener="#{languageBean.countryLocaleCodeChanged}" onchange="submit()" immediate="true">
							<f:selectItems value="#{languageBean.countriesInMap.entrySet()}" var="item" itemLabel="#{msg[item.key]}" itemValue="#{item.value}" />
						</p:selectOneMenu>
						<sec:authorize access="!hasAnyRole('ROLE_USER')">
							<p:commandButton value="#{msg['login']}" icon="ui-icon-extlink" action="pretty:login" />
						</sec:authorize>
						<sec:authorize access="hasAnyRole('ROLE_USER')" >
							<p:commandButton value="#{msg['logout']}" icon="ui-icon-extlink" action="pretty:logout" />
						</sec:authorize>
						
					</f:facet>
				</p:menubar>

			</nav>
			<div>
				<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
			</div>
			
			<div class="jumbotron">
				<ui:insert name="content">{content}</ui:insert>
			</div>
		</div>
	</h:form>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="#{resource['bootstrap:js/bootstrap.min.js']}" />
</h:body>
</html>
